<html lang="en">
<head>
  <meta charset="UTF-8">
      {% load static %}
    <link rel="stylesheet" href="{% static '/workouts/style.css' %}">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MocFit+</title>
</head>
<body>
  <nav class="navbar">
        <div class="container">
            <div class="navbar-header"><a href="">MocFit+</a></div>
            <ul class="navbar-links">
                <li class="item"><a href="/">Home</a></li>
                <li class="item"><a href="/workouts/">Workouts</a></li>
                <li class="item"><a href="">Community</a></li>
                <li class="item"><a href="/accounts/">Login</a></li>
            </ul>
        </div>

    </nav>
    <div class="sm-container-blue"></div>

<h1>Random Workout Generator</h1>
<form method="post" action="{% url 'workout_generator' %}">
    {% csrf_token %}
    {% for category in categories %}
        <button type="submit" name="category" value="{{ category.name }}">
            {{ category.name }} Day
        </button><br><br>
    {% endfor %}
</form>

<hr>

<h2>Advanced Workout Generator</h2>
<p><b>Select your preferences and generate a custom workout plan.</b></p>

<form method="post" action="{% url 'advanced_workout_generator' %}">
    {% csrf_token %}

    <!-- Muscle selection -->
    <fieldset style="margin-bottom: 25px;">
      <legend><b>Target Muscles</b></legend>
      <p style="font-size: 0.9em; color: #666; margin-bottom: 10px;">
        Select the muscle groups you want to train. The generator will prioritize compound movements and balance exercise distribution.
      </p>

      <!-- Select All / Deselect All button -->
      <button type="button" id="selectAllBtn" class="btn" style="margin-bottom: 10px; border: 1px solid #ccc; background: #f5f5f5; cursor: pointer;">
        Select All
      </button>

      <div id="muscleContainer" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">
        {% for m in muscles %}
          <label style="display: flex; align-items: center;">
            <input type="checkbox" name="muscles" value="{{ m.name }}" style="margin-right: 8px;">
            {{ m.name }}
          </label>
        {% endfor %}
      </div>
    </fieldset>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const selectAllBtn = document.getElementById('selectAllBtn');
        const checkboxes = document.querySelectorAll('input[name="muscles"]');
        let allSelected = false;

        selectAllBtn.addEventListener('click', function() {
          allSelected = !allSelected;
          checkboxes.forEach(cb => cb.checked = allSelected);
          selectAllBtn.textContent = allSelected ? 'Deselect All' : 'Select All';
        });
      });
    </script>

    <!-- Centered container -->
    <div style="text-align: center; margin-bottom: 25px;">
    
        <!-- Difficulty -->
        <div style="margin-bottom: 20px;">
            <label for="difficulty"><b>Training Experience:</b></label><br>
            <select id="difficulty" name="difficulty" style="width: 100%; max-width: 400px; padding: 8px; margin-top: 5px; display: inline-block;">
            <option value="">Any Level</option>
            <option value="beginner">Beginner (New to training)</option>
            <option value="intermediate" selected>Intermediate (6+ months experience)</option>
            <option value="advanced">Advanced (2+ years experience)</option>
            </select>
        </div>

        <!-- Goal -->
        <div style="margin-bottom: 20px;">
            <label for="goal"><b>Training Goal:</b></label><br>
            <select id="goal" name="goal" style="width: 100%; max-width: 400px; padding: 8px; margin-top: 5px; display: inline-block;">
            <option value="">General Fitness</option>
            {% for g in goals %}
                <option value="{{ g.name }}" {% if g.name == "hypertrophy" %}selected{% endif %}>
                {{ g.name|title }}
                {% if g.name == "strength" %}(4 sets × 4-6 reps, 3-5 min rest){% endif %}
                {% if g.name == "hypertrophy" %}(3 sets × 8-12 reps, 1-2 min rest){% endif %}
                {% if g.name == "endurance" %}(2 sets × 15-20 reps, 30-60 sec rest){% endif %}
                </option>
            {% endfor %}
            </select>
        </div>

        <!-- Equipment -->
        <div style="margin-bottom: 20px;">
            <label for="equipment"><b>Available Equipment:</b></label><br>
            <select id="equipment" name="equipment" style="width: 100%; max-width: 400px; padding: 8px; margin-top: 5px; display: inline-block;">
            <option value="">All Equipment</option>
            {% for e in equipment %}
                <option value="{{ e.name }}">{{ e.name }}</option>
            {% endfor %}
            </select>
        </div>

        <!-- Workout Length -->
        <div style="margin-bottom: 25px;">
            <label for="length"><b>Workout Duration:</b></label><br>
            <select id="length" name="length" style="width: 100%; max-width: 400px; padding: 8px; margin-top: 5px; display: inline-block;">
            <option value="short">Short (5 exercises, ~25-35 minutes)</option>
            <option value="medium" selected>Medium (8 exercises, ~40-55 minutes)</option>
            <option value="long">Long (12 exercises, ~60-80 minutes)</option>
            </select>
            <p style="font-size: 0.85em; color: #666; margin-top: 5px;">
            Duration includes rest periods. Compounds prioritized first, then isolation exercises.
            </p>
        </div>

    </div>

    <button type="submit"><b>Generate Workout</b></button>

    <div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 8px; max-width: 800px; margin-left: auto; margin-right: auto;">
    <h3 style="margin-top: 0;">  Smart Features</h3>
    <ul style="text-align: left; line-height: 1.8;">
      <li><b>Exercise Scoring:</b> Prioritizes effective movements based on your goals</li>
      <li><b>Optimal Ordering:</b> Compounds first when you're fresh, isolations later</li>
      <li><b>Variety Tracking:</b> Avoids repeating recent exercises for better adaptation</li>
      <li><b>Balanced Volume:</b> Distributes sets evenly across selected muscle groups</li>
      <li><b>Rest Guidance:</b> Provides appropriate rest times based on training goal</li>
      <li><b>Exercise Notes:</b> Includes form cues and performance tips</li>
    </ul>
  </div>

  <hr style="margin: 40px auto; max-width: 800px;">
</form>